<p><ul><li><a href="#—писок_переменных_окружени€_устан?">—писок переменных окружени€ устанавливаемых в ConEmu</a></li><li><a href="#»зменени€_PATH">»зменени€ PATH</a></li><li><a href="#Debug_purposed_variables">Debug purposed variables</a></li><li><a href="#Export_variables">Export variables</a></li><ul><li><a href="#Full_syntax_of_Export_command">Full syntax of Export command</a></li></ul><li><a href="#Disabling_hooks_temporarily">Disabling hooks temporarily</a></li><li><a href="#Cheating_system_time">Cheating system time</a></li><li><a href="#"></a></li><li><a href="#"></a></li></ul> </p>
<h1><a name="—писок_переменных_окружени€_устан?"></a>—писок переменных окружени€ устанавливаемых в ConEmu<a href="#—писок_переменных_окружени€_устан?" class="section_anchor"></a></h1>
<p><table class="wikitable"><tr><td style="border: 1px solid #ccc; padding: 5px;"> <strong>»м€</strong> </td><td style="border: 1px solid #ccc; padding: 5px;"> <strong>ѕример</strong> </td><td style="border: 1px solid #ccc; padding: 5px;"> <strong>ќписание</strong> </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> ConEmuDir </td><td style="border: 1px solid #ccc; padding: 5px;"> <tt>C:\ConEmu</tt> </td><td style="border: 1px solid #ccc; padding: 5px;"> папка, содержаща€ ConEmu.exe </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> ConEmuDrive </td><td style="border: 1px solid #ccc; padding: 5px;"> <tt>C:</tt> </td><td style="border: 1px solid #ccc; padding: 5px;"> диск с двоеточием, содержащий <a href="ConEmu.html">ConEmu</a>.exe </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> ConEmuBaseDir </td><td style="border: 1px solid #ccc; padding: 5px;"> <tt>C:\ConEmu\ConEmu</tt> </td><td style="border: 1px solid #ccc; padding: 5px;"> папка, содержаща€ ConEmuC.exe </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> ConEmuWorkDir </td><td style="border: 1px solid #ccc; padding: 5px;"> <tt>C:\Users</tt> </td><td style="border: 1px solid #ccc; padding: 5px;"> рабоча€ папка, где был запущен ваш shell </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> ConEmuWorkDrive </td><td style="border: 1px solid #ccc; padding: 5px;"> <tt>C:</tt> </td><td style="border: 1px solid #ccc; padding: 5px;"> диск с двоеточием, где был запущен ваш shell </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> ConEmuArgs </td><td style="border: 1px solid #ccc; padding: 5px;"> <i>вариант</i> </td><td style="border: 1px solid #ccc; padding: 5px;"> аргументы, с которыми был запущен ConEmu.exe </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> ConEmuConfig </td><td style="border: 1px solid #ccc; padding: 5px;"> <i>вариант</i> </td><td style="border: 1px solid #ccc; padding: 5px;"> им€ активной конфигурации, читайте про ключ <tt>/config</tt> </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> ConEmuBuild </td><td style="border: 1px solid #ccc; padding: 5px;"> <tt>141126c</tt> </td><td style="border: 1px solid #ccc; padding: 5px;"> текущий билд ConEmu </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> ConEmuPID </td><td style="border: 1px solid #ccc; padding: 5px;"> <i>число</i> </td><td style="border: 1px solid #ccc; padding: 5px;"> PID (»ƒ процесса) ConEmu GUI </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> ConEmuServerPID </td><td style="border: 1px solid #ccc; padding: 5px;"> <i>number</i> </td><td style="border: 1px solid #ccc; padding: 5px;"> PID (»ƒ процесса) ConEmuC сервера </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> ConEmuHWND </td><td style="border: 1px solid #ccc; padding: 5px;"> <tt>0x8HEXDGTS</tt> </td><td style="border: 1px solid #ccc; padding: 5px;"> дескриптор главного окна ConEmu </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> ConEmuDrawHWND </td><td style="border: 1px solid #ccc; padding: 5px;"> <tt>0x8HEXDGTS</tt> </td><td style="border: 1px solid #ccc; padding: 5px;"> дескриптор дескриптор окна виртуальной консоли (дочернее окно ConEmu), окно отрисовки текста консоли </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> ConEmuBackHWND </td><td style="border: 1px solid #ccc; padding: 5px;"> <tt>0x8HEXDGTS</tt> </td><td style="border: 1px solid #ccc; padding: 5px;"> подложка дл€ окна отрисовки, может быть больше окна отрисовки при наличии Ђpaddingї или Ђscrollbarsї </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> ConEmuIsAdmin </td><td style="border: 1px solid #ccc; padding: 5px;"> <tt>ADMIN</tt> или не задана </td><td style="border: 1px solid #ccc; padding: 5px;"> устанавливаетс€ дл€ тех табов/сплитов, которые запущены с повышенными полномочи€ми (UAC) </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> ConEmuANSI </td><td style="border: 1px solid #ccc; padding: 5px;"> <tt>ON</tt> или <tt>OFF</tt> </td><td style="border: 1px solid #ccc; padding: 5px;"> установлено в <tt>ON</tt> если доступен ЂANSI X3.64ї </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> <a href="ConEmuEnvironment.html#Disabling_hooks_temporarily">ConEmuHooks</a> </td><td style="border: 1px solid #ccc; padding: 5px;"> <tt>Enabled</tt>|<tt>OFF</tt>|<tt>NOARG</tt>|<tt>NOSTART</tt> </td><td style="border: 1px solid #ccc; padding: 5px;"> можно временно отключить установку inject-ов на врем€ запуска длинных команд или инициализационных скриптов </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> <a href="ConEmuEnvironment.html#Cheating_system_time">ConEmuFakeDT</a> </td><td style="border: 1px solid #ccc; padding: 5px;"> <tt>2014-12-31</tt> </td><td style="border: 1px solid #ccc; padding: 5px;"> that will cheat system and local current time for console processes </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> <a href="GuiMacro.html#Far3-pre-Lua">ConEmuMacroResult</a> </td><td style="border: 1px solid #ccc; padding: 5px;"> <i>вариант</i> </td><td style="border: 1px solid #ccc; padding: 5px;"> устанавливаетс€ из плагина ConEmu&#x27;s Far Manager после выполнени€ <a href="GuiMacro.html">GUI Macro</a> </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> <a href="ConEmuEnvironment.html#ConEmuCpCvt">ConEmuCpCvt</a> </td><td style="border: 1px solid #ccc; padding: 5px;"> perl.exe:1252:1251 </td><td style="border: 1px solid #ccc; padding: 5px;"> изменить кодовую страницу выводимого текста </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> <a href="ConEmuEnvironment.html#ConEmuDefaultCp">ConEmuDefaultCp</a> </td><td style="border: 1px solid #ccc; padding: 5px;"> 1251 </td><td style="border: 1px solid #ccc; padding: 5px;"> установить кодовую страницу вместо использовани€ chcp </td></tr> </table></p>
<h1><a name="»зменени€_PATH"></a>»зменени€ PATH<a href="#»зменени€_PATH" class="section_anchor"></a></h1>
<p><a href="SettingsComspec.html">Settings page ComSpec</a> has an options СAdd %ConEmuDir% to %PATH%Т and СAdd %ConEmuBaseDir% to %PATH%Т. </p>
<p>They are turned on by default and allows to easily run executables and scripts and macros from <a href="ConEmu.html">ConEmu</a>&#x27;s folders. For example: </p>
<pre class="prettyprint">ConEmuC -GuiMacro Progress 3

or

csudo dism.exe /online /enable-feature /featurename:NetFX3 /All /Source:D:\sources\sxs /LimitAccess</pre>
<h1><a name="Debug_purposed_variables"></a>Debug purposed variables<a href="#Debug_purposed_variables" class="section_anchor"></a></h1>
<p><table class="wikitable"><tr><td style="border: 1px solid #ccc; padding: 5px;"> <strong>Name</strong> </td><td style="border: 1px solid #ccc; padding: 5px;"> <strong>Example</strong> </td><td style="border: 1px solid #ccc; padding: 5px;"> <strong>Description</strong> </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> <tt>ConEmuSleepIndicator</tt> </td><td style="border: 1px solid #ccc; padding: 5px;"> <tt>TITLE</tt>, <tt>NUM</tt> or <tt>OFF</tt> </td><td style="border: 1px solid #ccc; padding: 5px;"> Turns on monitoring feature of СSleep in backgroundТ, when <tt>ConEmuSleepIndicator=NUM</tt> ConEmu will turn off NumLock when going sleep and turn on NumLock when full active back, when <tt>ConEmuSleepIndicator=TITLE</tt> - state will be shown in the TabBar or window title. </td></tr> <tr><td style="border: 1px solid #ccc; padding: 5px;"> <tt>ConEmuReportExe</tt> </td><td style="border: 1px solid #ccc; padding: 5px;"> <tt>perl.exe</tt> </td><td style="border: 1px solid #ccc; padding: 5px;"> Shows message box like Сperl.exe loadedТ when <tt>perl.exe</tt> started inside <a href="ConEmu.html">ConEmu</a> tab; option СInject <a href="ConEmuHk.html">ConEmuHk</a>Т must be enabled </td></tr> </table></p>
<h1><a name="Export_variables"></a>Export variables<a href="#Export_variables" class="section_anchor"></a></h1>
<p>When you start new console - it inherits environment strings (<tt>%PATH%</tt> also) from parent process (ConEmu GUI). </p>
<p>When you change %PATH% in your shell - it applies to this shell and its children processes (that is started in current console/tab). </p>
<p>If you need to fixate this temporarily environment changes - you may execute </p>
<pre class="prettyprint">ConEmuC /export PATH</pre>
<p>This will Ђcopyї your current <tt>%PATH%</tt> value to ConEmu GUI and it will be applied to all new ConEmu&#x27;s consoles. </p>
<h2><a name="Full_syntax_of_Export_command"></a>Full syntax of Export command<a href="#Full_syntax_of_Export_command" class="section_anchor"></a></h2>
<pre class="prettyprint">ConEmuC /EXPORT[=CON|ALL] [Var1 [Var2 [...]]]
ConEmuC /export[=CON|ALL] [Var1 [Var2 [...]]]
  VarN        - may contains one trailing/middle asterisk (sort of filemask support).
  /export     - export to all processes of current console and ConEmu GUI
  /export=CON - export to all processes of current console only
  /export=GUI - export to ConEmu GUI only
  /export=ALL - export to all processes of opened tabs and ConEmu GUI</pre>
<ul><li>Note! ЂInject ConEmuHkї required to set variables. </li><li>Some shells may ignores environment changes by <tt>/EXPORT=ALL</tt> because of their features. </li><li>Shells comments </li><ul><li>ЂFar Managerї &amp; ЂTCC/LEї - OK; </li><li>Ђcmdї - fails partially (required to run smth from active cmd, for example &quot;cmd /k exit&quot;, to Ђapplyї changes); </li><li>Ђbashї - fails completely (seems, it does not support outside changing of env.vars). </li></ul></ul><h1><a name="Disabling_hooks_temporarily"></a>Disabling hooks temporarily<a href="#Disabling_hooks_temporarily" class="section_anchor"></a></h1>
<p>You may temporarily disable injects when running СlongТ batches or initialization scripts: </p>
<pre class="prettyprint">cmd /k set ConEmuHooks=OFF &amp; &quot;C:\Program Files\Microsoft SDKs\Windows\v7.1\Bin\SetEnv.cmd&quot; -new_console:sV -new_console:t:SDK &amp; set ConEmuHooks=</pre>
<p>Actually, <tt>ConEmuHooks</tt> may be set of С<tt>OFF</tt>Т,С<tt>NOARG</tt>Т,С<tt>NOSTART</tt>Т or simple С<tt>Enabled</tt>Т. So if you want temporarily disable processing of <tt>-new_console</tt> and <tt>start</tt> (which both are forcing command into the new <a href="Tabs.html">ConEmu tab</a>) you may set the following: </p>
<pre class="prettyprint">set ConEmuHooks=NOARG,NOSTART</pre>
<h1><a name="Cheating_system_time"></a>Cheating system time<a href="#Cheating_system_time" class="section_anchor"></a></h1>
<p>Environment variable &quot;ConEmuFakeDT&quot;. That will cheat system and local current time for console processes. Use carefully! Console applications will think that time was freezed! ЂInject <a href="ConEmuHk.html">ConEmuHk</a>ї must be on! Some examples (cmd): </p>
<pre class="prettyprint">set ConEmuFakeDT=%DATE% %TIME%
set ConEmuFakeDT=2013-12-31T23:59:59.99
set ConEmuFakeDT=2013-01-31 9:0:0
set ConEmuFakeDT=2013-11-30</pre>
<h1><a name=""></a>ConEmuCpCvt</h1>
<p>Codepage hack to force output CP conversion. </p>
<p>If some command uses wrong CP while converting ANSI to Unicode (the example may be perl.exe from &quot;<tt>git add -p</tt>&quot;) set variable to correct its output. Use asterisk for all apps. This hack affects ONLY <tt>WriteConsoleW</tt> function calls. </p>
<pre class="prettyprint">Format:
&lt;exename&gt;:&lt;badcp&gt;:&lt;goodcp&gt;[;&lt;exename&gt;:&lt;badcp&gt;:&lt;goodcp&gt;[...]]
Example:
set ConEmuCpCvt=perl.exe:1252:1251;*:850:866;</pre>
<h1><a name=""></a>ConEmuDefaultCp</h1>
<p>Codepage hack to change output CP if you don&#x27;t want to use chcp. </p>
<p>If you can&#x27;t use &quot;<tt>chcp &lt;codepage&gt;</tt>&quot; to change whole console CP output, you may change it using environment variable ConEmuDefaultCp. It will affect only <tt>WriteFile</tt> and <tt>WriteConsoleA</tt> functions. So, if you need to run several apps in one console simultaneously... </p>
<pre class="prettyprint">set ConEmuDefaultCp=1251
ConEmuC -fork -c App1.exe
set ConEmuDefaultCp=866
ConEmuC -fork -c App2.exe
set ConEmuDefaultCp=</pre>

